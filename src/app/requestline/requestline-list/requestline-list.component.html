<app-menu></app-menu>
<div>
  <span class="pagetitle">Requestline List</span>
  <span *ngIf="request" class="create"> | <a routerLink='/requestline/create/{{request.id}}'>Create</a></span>
</div>
<div>
<table *ngIf="request" class="table table-sm table-hover table-bordered">
  <thead>
    <tr>
        <td>Description</td>
        <td>Status</td>
        <td>Total</td>
        <td>User</td>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{ request.description }}</td>
      <td>{{ request.status }}</td>
      <td>{{ request.total }}</td>
      <td>{{ request.userId }}</td>
      </tr>
  </tbody>
</table>
</div>
<div>
  <table *ngIf="request" class="table table-sm table-bordered">
    <tr>
      <td>Product</td>
      <td>Quantity</td>
      <td>Line Total</td>
      <td>Actions</td>
    </tr>
    <tr *ngFor="let line of request.requestLines">
      <td>{{ line.product.name }}</td>
      <td>{{ line.quantity }}</td>
      <td>{{ line.product.price * line.quantity }}</td>
      <td>
          <a routerLink="/requestline/edit/{{request.id}}">Edit |</a>
          <span><button (click)="delete(line)" class="btn btn-danger">Verify Delete</button></span>
        </td>
    </tr>
  </table>
</div>